/*
 * bing maps
 */

.bing-map {

  width: 100%;
  height: 450px; /* NOTE: magic number */
  // height: 420px; /* NOTE: magic number -- works well with Bing Maps display */
  position: relative; /* NOTE: keeps map API-generated map within bounds of this element */
  border: 1px solid $core-gray;
  overflow: hidden;

  &__overlay {

    display: none;

    @include sb-media($small-breakpoint) {

      display: block;
      position: absolute;
      z-index: 6; /* NOTE: magic number -- makes sure it's over map image */
      left: 0;
      background: $core-off-white;
      line-height: 29px; /* NOTE: value matches explicit height for Bing Maps' zoom tools overlay */
      padding: 0 .5rem;
      color: $note-green;

    }

  }

  &__infobox {

    font-size: .8rem;
    background: $white;
    padding: 1rem 1.5rem 3rem 1rem; /* NOTE: additional bottom padding adds more breathing room */
    border-right: 1px solid $core-gray;
    pointer-events: auto !important; /* NOTE: what issue does this address and what is the !important for? */
    position: relative;
    height: 100%;
    overflow-y: auto;
    cursor: auto;

  }

  &__infobox-wrapper {

    width: 100%;
    left: -100%;
    height: 100%;
    position: absolute;
    z-index: $z-index--top;
    transition: left .3s; /* NOTE: do we need need prefixes? */
    transition-timing-function: ease-in; /* NOTE: do we need need prefixes? */

    &.open {

      left: 0;
      width: calc(100% + 1px); /* NOTE: the 1px makes it so the "__infobox"'s 1px border doesn't double-up with the  "bing-map"'s left border' */
      transition-timing-function: ease-out;

    }

    @include sb-media($medium-breakpoint) {

      width: 40%; /* NOTE: magic number */

      &.open {

        width: 40%; /* NOTE: magic number */
        left: auto;
        left: 0;

      }

    }

  }

  &__infobox-close {

    font-size: 1rem;
    height: auto; /* NOTE: overrides the Bing Maps stylesheet (injected from API) */
    text-decoration: none;
    text-transform: uppercase;
    line-height: 1;
    position: absolute;
    top: 0;
    right: 0;
    padding: .5rem;
    margin: 0;

  }

  &__infobox-title {

    font-size: 1rem;
    font-weight: bold;
    margin: 0 0 1rem;

  }

  &__infobox-heading {

    display: block;
    font-weight: bold;
    margin: 1rem 0 .5rem;

  }

  &__infobox-p {

    margin: 0 0 .5rem;

  }

  &__infobox-a,
  a {

    transition: none !important;

    /* this is needed to override the transition on the text links
    that use the transition to do a fade. Pins are wrapped in an A tag
    and having a transition set on them messes them up */

  }

  &__infobox-list {

    padding: 0 0 0 1.5rem;
    margin: 0 0 1rem;

    &--no-bullets {

      list-style: none;
      padding: 0;
      margin: 0;

      li {

        margin: 0 0 1rem;

      }

    }

  }

  &__infobox-list-item {

    margin: 0 0 .5rem;

    &:last-child {

      margin: 0;

    }

  }

  &__infobox-img {

    padding: .25rem;
    border: 1px solid $core-light-gray;
    margin: 0 0 1rem;
    max-width: 260px; /* NOTE: magic number, mimics rule lower in this file */

  }

  &__infobox-icon-group {

    @include clearfix;
    margin: -.25rem 0 0 -.25rem; /* NOTE: negative margins assist with simple grid display */

  }

  &__infobox-icon {

    width: 32px;
    float: left;
    margin: .25rem 0 0 .25rem; /* NOTE: top/left margins assist with simple grid display */

  }

  &__infobox-section {

    padding: 1rem 0;
    border-bottom: 1px solid $core-light-gray;

    &:last-child {

      padding-bottom: 0;
      border: 0;

    }

    /* NOTE: no need for last child element to have a bottom margin */

    > *:last-child {

      margin-bottom: 0;

    }

  }

}

/* NOTE: rules that can/should be refactored, scoped better and BEM-ified */

.bing-map .customInfobox {

  font-size: 1rem;
  width: 320px; /* NOTE: magic number */
  background-color: $white;
  border-radius: $radius;
  padding: 10px;
  border: 1px solid $core-gray;
  pointer-events: auto !important;

}

.bing-map .customInfobox {

  .title {

    font-size: 1rem;
    font-weight: bold;
    margin-bottom: 5px;

  }

  .pdf {

    font-size: .8rem;
    display: inline-block;
    padding: 0 !important;
    margin: 0 0 .5rem;

  }

  .detail-title {

    font-size: .8rem;
    font-weight: bold;
    display: none;
    margin: 0 0 .5rem;

  }

  .address-block {

    border-top: 1px solid $core-gray;
    padding-top: .5rem;

  }

}

.bing-map svg path {

  //

}

.bing-map .whiteIcon {

  fill: $white; 

}

.bing-map .passengerAirport {

 fill: $accent-red; 

}

.bing-map .privateAirport {

  fill: $accent-blue; 

}

.bing-map .contact-block {

  ul {

    font-size: .8rem;
    padding: 0 0 0 1.5rem;
    margin: 0;

    li {

      margin: 0 0 .5rem;

      &:last-child {

        margin: 0;

      }

    }

  }

}

/* NOTE: from Todd's latest round of dev -- should be refactored, coped better and BEM-ified */

.bing-map .bing-map__infobox img.box {

  border: 1px solid $core-light-gray;
  margin: 1rem 0;

}

.bing-map .bing-map__infobox img.alignright {

  max-width: 260px;

}

.bing-map .bing-map__infobox-restAreaAcommodations img {

	display: inline-block;
	margin: 3px;
	width:auto !important;
	height:auto !important;

}

/* NOTE: use specific cursor for pins */

.bing-map .MapPushpinBase {

  cursor: pointer !important; /* !important used to override inline declaration included from API */

}
